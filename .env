# NexusPay API Configuration - Task 2 Compliant
# Copy this file to .env and update with your values

# Server Configuration
NODE_ENV=development
PORT=10000
HOST=0.0.0.0

# Database Configuration
DATABASE_URL="file:./prisma/nexuspay.db"
DATABASE_URL_DEV="postgresql://nexuspay_user:DevPassw0rd!2025@localhost:5432/nexuspay_dev?sslmode=prefer"

# JWT Configuration
JWT_SECRET="your-super-secure-jwt-secret-key-here-minimum-32-characters-for-development"
JWT_REFRESH_SECRET="your-super-secure-refresh-secret-key-here-minimum-32-characters-for-development"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"
JWT_ISSUER="nexuspay-api"
JWT_AUDIENCE="nexuspay-app"

# Encryption Configuration
ENCRYPTION_ALGORITHM="aes-256-gcm"
ENCRYPTION_KEY_LENGTH=32
ENCRYPTION_NONCE_LENGTH=12
ENCRYPTION_TAG_LENGTH=16
ENCRYPTION_KEY_ROTATION_DAYS=90
ENCRYPTION_MASTER_KEY_ID="nexuspay-master-key-2025"
ENCRYPTION_USE_HSM=false

# Argon2id Configuration
ARGON2_MEMORY_COST=65536
ARGON2_TIME_COST=3
ARGON2_PARALLELISM=1
ARGON2_HASH_LENGTH=32
ARGON2_SALT_LENGTH=16

# SWIFT Connector Configuration
SWIFT_BASE_URL="https://swift-gateway.nexuspay.bank"
SWIFT_CLIENT_CERT_PATH=""
SWIFT_CLIENT_CERT_PASSWORD=""
SWIFT_CA_CERT_PATH=""
SWIFT_SENDER_BIC="NEXUSZAJJ"
SWIFT_TIMEOUT_SECONDS=30
SWIFT_VALIDATE_SERVER_CERT=false
SWIFT_ENABLE_MESSAGE_SIGNING=true
SWIFT_SIGNING_KEY_PATH=""
SWIFT_SIGNING_KEY_PASSWORD=""

# Security Configuration
BCRYPT_WORK_FACTOR=12
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_LOGIN_WINDOW_MS=900000
RATE_LIMIT_REGISTER_MAX=3
RATE_LIMIT_REGISTER_WINDOW_MS=3600000

# WAF Configuration
WAF_RATE_LIMIT_MAX_REQUESTS=1000
WAF_RATE_LIMIT_WINDOW_MINUTES=1
WAF_MAX_REQUEST_SIZE_BYTES=10485760
WAF_ENABLE_SQL_INJECTION_DETECTION=true
WAF_ENABLE_XSS_DETECTION=true
WAF_ENABLE_PATH_TRAVERSAL_DETECTION=true
WAF_ENABLE_COMMAND_INJECTION_DETECTION=true

# CORS Configuration
CORS_ORIGINS="http://localhost:5173,https://localhost:5173,http://localhost:5174,https://localhost:5174"

# Audit Configuration
AUDIT_SIGNING_KEY="CHANGE_IN_PRODUCTION_STRONG_KEY_FOR_AUDIT_INTEGRITY"
AUDIT_CHAIN_SALT="CHANGE_IN_PRODUCTION_SALT_FOR_HASH_CHAIN"

# SIEM Configuration
SIEM_ENABLED=true
SIEM_ENDPOINT="https://siem.company.com/api/events"
SIEM_API_KEY=""
SIEM_SIGNING_KEY="CHANGE_IN_PRODUCTION_SIEM_SIGNING_KEY"
SIEM_ALERTS_ENABLED=true
SIEM_WEBHOOK_URL=""
SIEM_USE_EXTERNAL_THREAT_INTEL=false

# Backup Configuration
BACKUP_DIRECTORY=""
BACKUP_RETENTION_DAYS=30
BACKUP_AUTO_BACKUP_ENABLED=true
BACKUP_FULL_BACKUP_INTERVAL_DAYS=7
BACKUP_INCREMENTAL_BACKUP_INTERVAL_DAYS=1

# Performance Configuration
PERFORMANCE_ENABLE_DETAILED_METRICS=true
PERFORMANCE_CACHE_DEFAULT_EXPIRY_MINUTES=15
PERFORMANCE_MAX_CACHE_SIZE_MB=100

# Logging Configuration
LOG_LEVEL="info"
LOG_FORMAT="json"
LOG_FILE_PATH="logs/nexuspay-api.log"
LOG_MAX_SIZE="20m"
LOG_MAX_FILES=5

# TLS Configuration
TLS_MIN_VERSION="TLSv1.3"
TLS_CIPHER_SUITES="TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256"
TLS_CERT_PATH=""
TLS_KEY_PATH=""
TLS_CA_PATH=""

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_MS=30000
HEALTH_CHECK_TIMEOUT_MS=5000

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH="/metrics"


# SMTP Email Configuration (for OTP and notifications)
SMTP_ENABLED=true
SMTP_HOST="smtp-relay.brevo.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="98d9c7002@smtp-brevo.com"
SMTP_PASS="zfqCEnmQFjI8465M"
SMTP_FROM="NexusPay Security <musantuli004@gmail.com>"
